apiVersion: admissionregistration.k8s.io/v1
kind: MutatingWebhookConfiguration
metadata:
  name: accuknox-multi-cluster-helper-webhook
webhooks:
- name: accuknox-multi-cluster-helper-webhook.agents.svc
  matchPolicy: Equivalent
  admissionReviewVersions: ["v1"]
  sideEffects: None
  rules:
  - operations: ["CREATE", "UPDATE"]
    apiGroups: [""]
    apiVersions: ["v1"]
    resources: ["configmaps"]
    scope: "Namespaced"
  failurePolicy: Fail
  timeoutSeconds: 20
  clientConfig:
    # intended for demonstration purposes only and should be regarded as insecure.
    caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUQzVENDQXNXZ0F3SUJBZ0lVSWJTQk9yZFk5K1ZRdnNCdW9ES2JsamhDQU5Fd0RRWUpLb1pJaHZjTkFRRUwKQlFBd2ZqRUxNQWtHQTFVRUJoTUNWVk14RGpBTUJnTlZCQWdNQlZOMFlYUmxNUTB3Q3dZRFZRUUhEQVJEYVhSNQpNUlV3RXdZRFZRUUtEQXhQY21kaGJtbDZZWFJwYjI0eE9UQTNCZ05WQkFNTU1HRmpZM1ZyYm05NExXMTFiSFJwCkxXTnNkWE4wWlhJdGFHVnNjR1Z5TFhkbFltaHZiMnN1WVdkbGJuUnpMbk4yWXpBZUZ3MHlOREE1TWpZeE1UQTEKTWpSYUZ3MHlOVEE1TWpZeE1UQTFNalJhTUg0eEN6QUpCZ05WQkFZVEFsVlRNUTR3REFZRFZRUUlEQVZUZEdGMApaVEVOTUFzR0ExVUVCd3dFUTJsMGVURVZNQk1HQTFVRUNnd01UM0puWVc1cGVtRjBhVzl1TVRrd053WURWUVFECkREQmhZMk4xYTI1dmVDMXRkV3gwYVMxamJIVnpkR1Z5TFdobGJIQmxjaTEzWldKb2IyOXJMbUZuWlc1MGN5NXoKZG1Nd2dnRWlNQTBHQ1NxR1NJYjNEUUVCQVFVQUE0SUJEd0F3Z2dFS0FvSUJBUUNaSVR4N1FXMmJ5djcvaFVNQwo2Z1BsWFBPOXpOQmo0VUJ5OXlHcnBYd0RHaDM3UThRQXRJTzF1OEZIOE9hR1QxR2dUWnpNTzl5QzRDMlR4K2NBCnpvTUhBckRsZ0hTVXMzTENkWk1zM1QyQ0ZITVdQQVJMVmREK2xieGgyRzhEaVpQODZxeHJpZS9Kd3FhZnprUjUKbFNYTzhSYWpaOXNjbS9odFlkZHhGN1graG5QZm5CMVZzWkVyYm8xaFhCZmJhMWpPakxnNXhya1Z3RE1TY1hBRApUM3dzYVVkZ2FZWm96T3U1ajdWQnBZOVB4Z21aV0NaQUpHTEpxbXhkN2pIamdJNW80eStQQUx3ZWV3cWVvbnMrCnlwTktYNTFsdkxLWHVHeEdkRjhPd25LbXNMQXF4Nml3ZWJsOEhjd3dQV2ZLS1pxa1RQeG5GcDlBakpjT3A0THIKZlB5TEFnTUJBQUdqVXpCUk1CMEdBMVVkRGdRV0JCVFhFaVZNRXk2YkthMGREa0hzaEhOUjV3NW1QekFmQmdOVgpIU01FR0RBV2dCVFhFaVZNRXk2YkthMGREa0hzaEhOUjV3NW1QekFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQTBHCkNTcUdTSWIzRFFFQkN3VUFBNElCQVFDTHZLYWpMNFNNTG9zbkpVRmJnaU1lay9qS01mVlFXTWhrcm1PVnFLa3gKaVlZUHBORlVLdkI4ZFRlZFV4ZEhiTDJuRTlXR2lPRHpzamJjbm0ycWxNTnA1L1h5OTVDV1phUm5hN0ZMOGIvNgpTZTRSRUtUcHFwa0xIZVR1Q2JSOU13NTNzOUtuSXBSVzdkUjZacTZURVhWZHhERWdYN0h3Ni9HTnViTjRLcGRqCjV3RTR0L3pDZllSZjFLb0RSZ3QrNGFkbHBPL3I2LzkrdElLd3JvbVJrQkVkeWNtRUl0QmlzcG5IdTk1SExOeWoKaDZ2N2VKbWhzUUFuSytYT2FlelNRRytaZ01EYkVISEdaMTFleHExc0I0SVhDajdIZi9iUEdncVVJVFp1bG1KagpFOVBLcTZSdVYxTnl2N0FJQm5JYng5bTNNcnVzNmgrN2lPVm1rTDA0M3BBNwotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
    service:
      namespace: agents
      name: accuknox-multi-cluster-helper-webhook
      path: /mutate
      port: 5000